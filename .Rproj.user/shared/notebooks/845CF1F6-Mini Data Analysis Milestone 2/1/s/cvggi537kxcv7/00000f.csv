"0","#convert amenities to factor"
"0","amenities_fct <- as.factor(apt_buildings$amenities) "
"0",""
"0","#compute counts of each level"
"0","amenities_count <- fct_count(amenities_fct) "
"0",""
"0","#convert each cell into single value and tidy data"
"0","amenities_count %>%"
"0","  separate(f, into = c('f1','f2','f3', 'f4','f5','f6'), sep = ' , ') %>% "
"0","  pivot_longer(c('f1','f2','f3', 'f4','f5','f6'), names_to = 'f', values_to = 'amenities_type') %>% "
"0","  select(amenities_type) %>% "
"0","  na.omit() %>% "
"0","  "
"0","  #count each amenity type"
"0","  count(amenities_type)"
"2","Warning: Expected 6 pieces. Missing pieces filled with `NA` in 67 rows [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, ...]."
